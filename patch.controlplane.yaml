machine:
  type: controlplane
  network:
    hostname: node-talos
    interfaces:
      - interface: enp0s1    # Cетевой интерфейс, который мы узнали
        dhcp: true
    nameservers:
      - 8.8.8.8
      - 8.8.4.4
  time:
    disabled: false
    servers:
      - pool.ntp.org
      - time.google.com
    bootTimeout: 2m0s
  install:
    disk: /dev/vda          # Системный диск, который мы нашли
    image: factory.talos.dev/installer/376567988ad370138ad8b2698212367b8edcb69b5fd68c80be1f2ec7d603b4ba:v1.10.7
    wipe: true
  kubelet:
    clusterDNS:
      - 10.96.0.10          # Правильный DNS из service subnet
cluster:
  apiServer:
    certSANs:
      - 192.168.50.104
      - 127.0.0.1
      - localhost
      - kubernetes.default.svc.cluster.local
  controlPlane:
    endpoint: https://192.168.50.104:6443
  network:
    dnsDomain: cluster.local
    podSubnets:
      - 10.244.0.0/16
    serviceSubnets:
      - 10.96.0.0/12
